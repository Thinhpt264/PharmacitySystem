<!-- Toast toàn cục -->
<p-toast position="top-right"></p-toast>

<!-- Admin Layout - chỉ hiện khi không phải trang auth -->
<div *ngIf="showLayout" class="loading"
  data-layout-config='{"leftSideBarTheme":"light","layoutBoxed":false, "leftSidebarCondensed":false, "leftSidebarScrollable":false,"darkMode":false, "showRightSidebarOnStart": true}'>
  <!-- Begin page -->
  <div class="wrapper">
    <!-- ========== Left Sidebar Start ========== -->
    <div class="left-side-menu">

      <!-- LOGO -->
      <a href="index.html" class="logo text-center logo-light">
        <span class="logo-lg">
          <img src="assets/images/logo.png" alt="" height="16">
        </span>
        <span class="logo-sm">
          <img src="assets/images/logo_sm.png" alt="" height="16">
        </span>
      </a>

      <!-- LOGO -->
      <a href="index.html" class="logo text-center logo-dark">
        <span class="logo-lg">
          <img src="assets/images/logo-dark.png" alt="" height="16">
        </span>
        <span class="logo-sm">
          <img src="assets/images/logo_sm_dark.png" alt="" height="16">
        </span>
      </a>

      <div class="h-100" id="left-side-menu-container" data-simplebar>

        <!--- Sidemenu -->
        <ul class="metismenu side-nav">

          <li class="side-nav-item" (click)="gotoDashboard()">
            <a routerLink="/dashboard" class="side-nav-link">
              <i class="uil-home-alt"></i>
              <span class="badge badge-success float-right">4</span>
              <span> Dashboard </span>
            </a>
          </li>
          <li class="side-nav-title side-nav-item">Quản lý người dùng</li>
          <li class="side-nav-item">
            <a routerLink="/users" class="side-nav-link">
              <i class="uil-users-alt"></i>
              <span> Quản lý người dùng </span>
            </a>
          </li>

          <li class="side-nav-item">
            <a routerLink="/employees" class="side-nav-link">
              <i class="uil-user-check"></i>
              <span> Quản lý nhân viên </span>
            </a>
          </li>
          <li class="side-nav-title side-nav-item">Quản lý sản phẩm</li>

          <li class="side-nav-item" (click)="gotoProducts()">
            <a routerLink="/products" class="side-nav-link">
              <i class="uil-calender"></i>
              <span> Sản phẩm </span>
            </a>
          </li>

          <li class="side-nav-item">
            <a routerLink="/inventory/stock" class="side-nav-link">
              <i class="uil-box"></i>
              <span> Sản phẩm tồn kho </span>
            </a>
          </li>
          <li class="side-nav-item" (click)="gotoCategories()">
            <a routerLink="/categories" class="side-nav-link">
              <i class="mdi mdi-segment"></i>
              <span> Danh mục </span>
            </a>
          </li>
          <li class="side-nav-title side-nav-item">Thống kê</li>

          <li class="side-nav-item">
            <a routerLink="/statistics/monthly-orders" class="side-nav-link">
              <i class="mdi mdi-file-multiple-outline"></i>
              <span> Đơn hàng theo tháng </span>
            </a>
          </li>

          <li class="side-nav-item">
            <a routerLink="/statistics/revenue" class="side-nav-link">
              <i class="uil-chart"></i>
              <span> Doanh thu </span>
            </a>
          </li>

          <li class="side-nav-item">
            <a routerLink="/statistics/products" class="side-nav-link">
              <i class="uil-chart-pie"></i>
              <span> Thống kê sản phẩm </span>
            </a>
          </li>

          <li class="side-nav-title side-nav-item">Xác nhận đơn hàng</li>

          <li class="side-nav-item">
            <a routerLink="/orders/pending" class="side-nav-link">
              <i class="uil-briefcase"></i>
              <span> Đơn hàng chờ xử lý </span>
            </a>
          </li>

          <li class="side-nav-item">
            <a routerLink="/orders/confirmed" class="side-nav-link">
              <i class="uil-check-circle"></i>
              <span> Đơn hàng đã xác nhận </span>
            </a>
          </li>

          <li class="side-nav-item">
            <a routerLink="/orders/delivered" class="side-nav-link">
              <i class="uil-truck"></i>
              <span> Đơn hàng đã giao </span>
            </a>
          </li>

        </ul>

        <div class="clearfix"></div>

      </div>
      <!-- Sidebar -left -->

    </div>
    <!-- Left Sidebar End -->

    <!-- ============================================================== -->
    <!-- Start Page Content here -->
    <!-- ============================================================== -->

    <div class="content-page">

      <div class="content">
        <!-- Topbar Start -->
        <div class="navbar-custom">
          <ul class="list-unstyled topbar-right-menu float-right mb-0">
            <li class="dropdown notification-list d-lg-none">
              <a class="nav-link dropdown-toggle arrow-none" data-toggle="dropdown" href="#" role="button"
                aria-haspopup="false" aria-expanded="false">
                <i class="dripicons-search noti-icon"></i>
              </a>
              <div class="dropdown-menu dropdown-menu-animated dropdown-lg p-0">
                <form class="p-3">
                  <input type="text" class="form-control" placeholder="Search ..." aria-label="Recipient's username">
                </form>
              </div>
            </li>

            <li class="dropdown notification-list topbar-dropdown">
              <a class="nav-link dropdown-toggle arrow-none" data-toggle="dropdown" href="#" role="button"
                aria-haspopup="false" aria-expanded="false">
                <img src="assets/images/flags/us.jpg" alt="user-image" class="mr-0 mr-sm-1" height="12">
                <span class="align-middle d-none d-sm-inline-block">English</span>
                <i class="mdi mdi-chevron-down d-none d-sm-inline-block align-middle"></i>
              </a>
              <div class="dropdown-menu dropdown-menu-right dropdown-menu-animated topbar-dropdown-menu">
                <a href="javascript:void(0);" class="dropdown-item notify-item">
                  <img src="assets/images/flags/germany.jpg" alt="user-image" class="mr-1" height="12">
                  <span class="align-middle">German</span>
                </a>
                <a href="javascript:void(0);" class="dropdown-item notify-item">
                  <img src="assets/images/flags/italy.jpg" alt="user-image" class="mr-1" height="12">
                  <span class="align-middle">Italian</span>
                </a>
              </div>
            </li>

            <li class="dropdown notification-list">
              <a class="nav-link dropdown-toggle arrow-none" data-toggle="dropdown" href="#" role="button"
                aria-haspopup="false" aria-expanded="false">
                <i class="dripicons-bell noti-icon"></i>
                <span class="noti-icon-badge"></span>
              </a>
              <div class="dropdown-menu dropdown-menu-right dropdown-menu-animated dropdown-lg">
                <div class="dropdown-item noti-title">
                  <h5 class="m-0">
                    <span class="float-right">
                      <a href="javascript: void(0);" class="text-dark">
                        <small>Clear All</small>
                      </a>
                    </span>Notification
                  </h5>
                </div>

                <div style="max-height: 230px;" data-simplebar>
                  <a href="javascript:void(0);" class="dropdown-item notify-item">
                    <div class="notify-icon bg-primary">
                      <i class="mdi mdi-comment-account-outline"></i>
                    </div>
                    <p class="notify-details">Caleb Flakelar commented on Admin
                      <small class="text-muted">1 min ago</small>
                    </p>
                  </a>
                </div>

                <a href="javascript:void(0);" class="dropdown-item text-center text-primary notify-item notify-all">
                  View All
                </a>
              </div>
            </li>

            <li class="dropdown notification-list">
              <a class="nav-link dropdown-toggle nav-user arrow-none mr-0" data-toggle="dropdown" href="#" role="button"
                aria-haspopup="false" aria-expanded="false">
                <span class="account-user-avatar">
                  <img src="assets/images/users/avatar-1.jpg" alt="user-image" class="rounded-circle">
                </span>
                <span>
                  <span class="account-user-name">Admin User</span>
                  <span class="account-position">Administrator</span>
                </span>
              </a>
              <div
                class="dropdown-menu dropdown-menu-right dropdown-menu-animated topbar-dropdown-menu profile-dropdown">
                <div class=" dropdown-header noti-title">
                  <h6 class="text-overflow m-0">Welcome !</h6>
                </div>

                <a href="javascript:void(0);" class="dropdown-item notify-item">
                  <i class="mdi mdi-account-circle mr-1"></i>
                  <span>My Account</span>
                </a>

                <a href="javascript:void(0);" class="dropdown-item notify-item">
                  <i class="mdi mdi-account-edit mr-1"></i>
                  <span>Settings</span>
                </a>

                <a href="javascript:void(0);" class="dropdown-item notify-item" (click)="logout()">
                  <i class="mdi mdi-logout mr-1"></i>
                  <span>Logout</span>
                </a>
              </div>
            </li>

          </ul>
          <button class="button-menu-mobile open-left disable-btn">
            <i class="mdi mdi-menu"></i>
          </button>
          <div class="app-search dropdown d-none d-lg-block">
    
          </div>
        </div>
        <!-- end Topbar -->
        <!-- Router outlet duy nhất - hiển thị content dựa trên showLayout -->
        <router-outlet></router-outlet>
      </div>
      <!-- Footer Start -->
      <footer class="footer">
        <div class="container-fluid">
          <div class="row">
            <div class="col-md-6">
              2024 © Pharmacy Admin - PharmacitySystem
            </div>
            <div class="col-md-6">
              <div class="text-md-right footer-links d-none d-md-block">
                <a href="javascript: void(0);">About</a>
                <a href="javascript: void(0);">Support</a>
                <a href="javascript: void(0);">Contact Us</a>
              </div>
            </div>
          </div>
        </div>
      </footer>
      <!-- end Footer -->
    </div>

    <!-- ============================================================== -->
    <!-- End Page content -->
    <!-- ============================================================== -->

  </div>
  <!-- END wrapper -->

  <!-- Right Sidebar -->
  <div class="right-bar">
    <div class="rightbar-title">
      <a href="javascript:void(0);" class="right-bar-toggle float-right">
        <i class="dripicons-cross noti-icon"></i>
      </a>
      <h5 class="m-0">Settings</h5>
    </div>

    <div class="rightbar-content h-100" data-simplebar>
      <div class="p-3">
        <div class="alert alert-warning" role="alert">
          <strong>Customize </strong> the overall color scheme, layout width, etc.
        </div>

        <!-- Settings -->
        <h5 class="mt-3">Color Scheme</h5>
        <hr class="mt-1" />

        <div class="custom-control custom-switch mb-1">
          <input type="radio" class="custom-control-input" name="color-scheme-mode" value="light" id="light-mode-check"
            checked />
          <label class="custom-control-label" for="light-mode-check">Light Mode</label>
        </div>

        <div class="custom-control custom-switch mb-1">
          <input type="radio" class="custom-control-input" name="color-scheme-mode" value="dark" id="dark-mode-check" />
          <label class="custom-control-label" for="dark-mode-check">Dark Mode</label>
        </div>

        <button class="btn btn-primary btn-block mt-4" id="resetBtn">Reset to Default</button>
      </div>
    </div>
  </div>

  <div class="rightbar-overlay"></div>
  <!-- /Right-bar -->
</div>
<!-- Router outlet cho auth pages (login) - hiển thị fullscreen -->
<router-outlet *ngIf="!showLayout"></router-outlet>
